import{c as u,r as i,j as e,S as M,L as v,X as L,t as h}from"./index-CzxWLeLO.js";import"./apiClient-sRHbtias.js";import{b as T}from"./mockData-DYnVBVZU.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=u("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=u("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=u("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),D=async()=>new Promise(a=>{setTimeout(()=>a([...T]),500)}),I=async a=>new Promise(r=>{setTimeout(()=>r({...a,id:Date.now(),joined:new Date().toISOString().split("T")[0]}),500)}),V=async(a,r)=>new Promise(c=>{setTimeout(()=>c({...r,id:a}),500)}),q=async a=>new Promise(r=>{setTimeout(()=>r(!0),500)}),H=()=>{const[a,r]=i.useState([]),[c,p]=i.useState(!0),[g,w]=i.useState(""),[y,N]=i.useState("All Roles"),[S,x]=i.useState(!1),[m,b]=i.useState(!1),[d,f]=i.useState(null),[s,n]=i.useState({name:"",email:"",role:"Viewer",status:"Active"});i.useEffect(()=>{U()},[]);const U=async()=>{p(!0);try{const t=await D();r(t)}catch{}finally{p(!1)}},j=a.filter(t=>{const l=t.name.toLowerCase().includes(g.toLowerCase())||t.email.toLowerCase().includes(g.toLowerCase()),o=y==="All Roles"||t.role===y;return l&&o}),k=(t=null)=>{t?(f(t),n({name:t.name,email:t.email,role:t.role,status:t.status})):(f(null),n({name:"",email:"",role:"Viewer",status:"Active"})),x(!0)},C=async t=>{t.preventDefault(),b(!0);try{if(d){const l=await V(d.id,s);r(a.map(o=>o.id===d.id?{...o,...l}:o)),h.success("User updated successfully")}else{const l=await I(s);r([...a,l]),h.success("User added successfully")}x(!1)}catch{}finally{b(!1)}},A=async t=>{if(confirm("Are you sure you want to delete this user?"))try{await q(t),r(a.filter(l=>l.id!==t)),h.success("User deleted successfully")}catch{}};return e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors",children:"User Management"}),e.jsxs("span",{className:"bg-primary/10 text-primary text-xs font-bold px-2.5 py-1 rounded-full",children:[a.length," Total"]})]}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1 transition-colors",children:"Manage and monitor application users."})]}),e.jsxs("button",{onClick:()=>k(),className:"flex items-center justify-center gap-2 bg-primary hover:bg-primary/90 text-white px-4 py-2.5 rounded-xl font-medium transition-all shadow-sm active:scale-95",children:[e.jsx(E,{className:"w-5 h-5"}),"Add User"]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm overflow-hidden transition-colors",children:[e.jsxs("div",{className:"p-4 border-b border-gray-50 dark:border-gray-700 flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative w-full sm:w-80",children:[e.jsx(M,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search users...",value:g,onChange:t=>w(t.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border-transparent rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all dark:text-white"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("select",{value:y,onChange:t=>N(t.target.value),className:"px-3 py-2 text-sm font-medium text-gray-600 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-100 dark:border-gray-600 rounded-lg transition-colors outline-none cursor-pointer",children:[e.jsx("option",{children:"All Roles"}),e.jsx("option",{children:"Admin"}),e.jsx("option",{children:"Editor"}),e.jsx("option",{children:"Viewer"})]})})]}),e.jsxs("div",{className:"overflow-x-auto relative min-h-[400px]",children:[c&&e.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-gray-800/50 backdrop-blur-[2px] z-10 flex items-center justify-center",children:e.jsx(v,{className:"w-8 h-8 text-primary animate-spin"})}),e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50 dark:bg-gray-900/50",children:[e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50 dark:divide-gray-700",children:j.length>0?j.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold text-sm",children:t.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.email})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:t.role})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold ${t.status==="Active"?"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400"}`,children:t.status})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>k(t),className:"p-2 text-gray-400 hover:text-primary rounded-lg hover:bg-primary/5 transition-colors",children:e.jsx(P,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A(t.id),className:"p-2 text-gray-400 hover:text-red-500 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:e.jsx(R,{className:"w-4 h-4"})})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:c?"Loading users...":"No users found matching your criteria."})})})]})]})]}),S&&e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-md rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-50 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:d?"Edit User":"Add New User"}),e.jsx("button",{disabled:m,onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:e.jsx(L,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Full Name"}),e.jsx("input",{required:!0,type:"text",value:s.name,onChange:t=>n({...s,name:t.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-sm outline-none focus:ring-2 focus:ring-primary/20 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Email"}),e.jsx("input",{required:!0,type:"email",value:s.email,onChange:t=>n({...s,email:t.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-sm outline-none focus:ring-2 focus:ring-primary/20 dark:text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Role"}),e.jsxs("select",{value:s.role,onChange:t=>n({...s,role:t.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-100 dark:border-gray-600 rounded-xl text-sm outline-none dark:text-white",children:[e.jsx("option",{children:"Admin"}),e.jsx("option",{children:"Editor"}),e.jsx("option",{children:"Viewer"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Status"}),e.jsxs("select",{value:s.status,onChange:t=>n({...s,status:t.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-100 dark:border-gray-600 rounded-xl text-sm outline-none dark:text-white",children:[e.jsx("option",{children:"Active"}),e.jsx("option",{children:"Inactive"})]})]})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",disabled:m,onClick:()=>x(!1),className:"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 font-medium rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2.5 bg-primary text-white font-medium rounded-xl hover:bg-primary/90 transition-all shadow-sm flex items-center justify-center gap-2 disabled:opacity-50",children:[m&&e.jsx(v,{className:"w-4 h-4 animate-spin"}),d?"Save Changes":"Create User"]})]})]})]})})]})};export{H as default};
